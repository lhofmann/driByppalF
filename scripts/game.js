!function e(t,r,i){function n(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return n(r?r:e)},l,l.exports,e,t,r,i)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=e("states/Preloader"),u=i(s),c=e("states/Menu"),l=i(c),f=e("states/GameState"),h=i(f),p=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,288,512,Phaser.AUTO));return e.state.add("Preloader",u["default"],!1),e.state.add("Menu",l["default"],!1),e.state.add("GameState",h["default"],!1),e.state.start("Preloader"),e}return a(t,e),t}(Phaser.Game);new p},{"states/GameState":6,"states/Menu":7,"states/Preloader":8}],2:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(e){function t(e,r,o){i(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,o,"bird"));return a.game.physics.arcade.enable(a),a.anchor.setTo(-.2,.5),a.body.setCircle(Math.ceil(a.height/2)),a.body.gravity.y=1e3,a.body.bounce.setTo(.5),a.alive=!0,a.angle_min=-10,a.angle_max=10,a.animations.add("blue",[0,1,2,1]),a.animations.add("red",[3,4,5,4]),a.animations.add("yellow",[6,7,8,7]),a.animations.add("flash",[0,4,8,1,3,7,2,4]),a.animations.play("blue",30,!0),a.game.add.existing(a),a}return o(t,e),a(t,[{key:"update",value:function(){this.alive&&this.angle<this.angle_max&&(this.angle+=1),this.y<0&&(this.y=0,this.body.velocity.y<0&&(this.body.velocity.y*=-1)),this.right<0&&this.destroy()}},{key:"flap",value:function(e){if(this.alive){var r=new t(this.game,this.x,this.y);r.angle=this.angle,r.body.velocity.setTo(this.body.velocity.x,this.body.velocity.y),e.add(r),this.body.velocity.y=-350,this.game.add.tween(this).to({angle:-20},100).start()}}}]),t}(Phaser.Sprite);r["default"]=s},{}],3:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(e){function t(e,r,o){i(this,t);for(var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),s=a.game.rnd.integerInRange(r,o),u=[!0,!1],c=0;c<u.length;c++){var l=u[c],f=a.game.add.sprite(a.game.world.width,s-(l?100:0),"pipe");l&&(f.scale.y*=-1),a.game.physics.arcade.enable(f),f.body.velocity.x=-200,f.body.immovable=!0,f.frame=0,a.add(f)}return a.count_score=!0,a.past_player=!1,a.game.add.existing(a),a}return o(t,e),a(t,[{key:"update",value:function(){this.right<0&&this.destroy()}},{key:"stop",value:function(){this.forEach(function(e){e.body.velocity.x=0})}},{key:"deactivate",value:function(){this.alive=!1,this.forEach(function(e){e.frame=1})}}]),t}(Phaser.Group);r["default"]=s},{}],4:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(e){function t(e,r,o,a){i(this,t);var s=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,o,a,{font:"45px Arial",fill:"#ff0044",align:"center"}));return s._speed=125,s._colorIndex=0,s._colors=["#ee4035","#f37736","#fdf498","#7bc043","#0392cf"],s.colorize(),s.startTimer(),s.game.stage.addChild(s),s}return o(t,e),a(t,[{key:"startTimer",value:function(){this.game.time.events.loop(this._speed,this.colorize,this).timer.start()}},{key:"colorize",value:function(){for(var e=0;e<this.text.length;e++)this._colorIndex===this._colors.length&&(this._colorIndex=0),this.addColor(this._colors[this._colorIndex],e),this._colorIndex++}}]),t}(Phaser.Text);r["default"]=s},{}],5:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(e){function t(e){i(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.score=0,r.game.add.existing(r),r}return o(t,e),a(t,[{key:"score",get:function(){return this.score_},set:function(e){this.score_=e,this.removeAll();var t=this.score_,r=0;do{var i=(t%10).toString();t=Math.floor(t/10),r-=this.game.cache.getImage(i).width,this.add(this.game.add.sprite(r,20,i))}while(t>0);this.x=Math.floor(this.game.world.centerX-r/2)}}]),t}(Phaser.Group);r["default"]=s},{}],6:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),u=e("../objects/Bird.js"),c=i(u),l=e("../objects/Pipe.js"),f=i(l),h=e("../objects/ScoreDisplay.js"),p=i(h),d=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"create",value:function(){this.game.physics.startSystem(Phaser.Physics.ARCADE),this.grass_y=this.game.world.height-this.game.cache.getImage("base").height,this.background=this.game.add.tileSprite(0,0,288,512,"background"),this.background.autoScroll(-100,0),this.grass=this.game.add.tileSprite(0,this.grass_y,288,112,"base"),this.grass.autoScroll(-200,0),this.game.physics.arcade.enable(this.grass),this.grass.body.immovable=!0,this.new_birds=this.game.add.group(),this.birds=this.game.add.group(),this.birds.add(new c["default"](this.game,55,245)),this.pipes=this.game.add.group(),this.score_text=new p["default"](this.game),this.game.input.onTap.add(this.onTap,this),this.pipe_y_min=this.game.world.height-(this.grass_y-250),this.pipe_y_max=this.game.world.height-this.grass_y,this.last_pipe=null,this.score=0,this.score_text.score=0;var e=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);e.onDown.add(this.onTap,this),this.init_timer=this.game.time.events.add(this.game.rnd.integerInRange(1e3,2e3),this.addPipe,this)}},{key:"onHit",value:function(e){e.alive&&(e.alpha=1,e.alive=!1,e.animations.stop(),this.birds.countLiving()<=0&&(this.background.autoScroll(0,0),this.grass.autoScroll(0,0),this.pipes.forEach(function(e){return e.stop()}),this.game.time.events.remove(this.timer),this.game.time.events.remove(this.init_timer)))}},{key:"createFlapTimer",value:function(){this.timer=this.game.time.events.add(this.game.rnd.integerInRange(0,500),this.telegraphFlap,this)}},{key:"telegraphFlap",value:function(){this.birds.forEachAlive(function(e){return e.animations.play("red",30,!0)}),this.timer=this.game.time.events.add(250,this.autoFlap,this)}},{key:"autoFlap",value:function(){var e=this;this.birds.forEachAlive(function(e){return e.animations.play("blue",30,!0)}),this.birds.forEachAlive(function(t){return t.flap(e.new_birds)}),this.birds.addMultiple(this.new_birds),this.createFlapTimer()}},{key:"addPipe",value:function(){this.last_pipe=new f["default"](this.game,this.pipe_y_min,this.pipe_y_max),this.pipes.add(this.last_pipe),this.game.world.bringToTop(this.grass),this.game.world.bringToTop(this.score_text)}},{key:"update",value:function(){var e=this;if(this.birds.forEachAlive(function(t){return e.pipes.forEach(function(r){return e.game.physics.arcade.overlap(t,r,e.onHit,null,e)},e)},this),this.birds.forEachAlive(function(t){return e.game.physics.arcade.overlap(t,e.grass,e.onHit,null,e)},this),this.birds.forEachDead(function(t){return e.pipes.forEach(function(r){return e.game.physics.arcade.collide(t,r)},e)},this),this.birds.forEachDead(function(t){return e.game.physics.arcade.collide(t,e.grass)},this),this.birds.forEach(function(t){t.bottom>=e.grass_y&&(t.bottom=e.grass_y,t.body.velocity.y=-t.body.velocity.y*t.body.bounce.y,e.onHit(t))},this),this.birds.countLiving()>0){var t=1/this.birds.countLiving();this.birds.forEachAlive(function(e){e.alpha=t}),this.last_pipe&&(this.birds.forEachAlive(function(t){return e.pipes.forEachAlive(function(r){t.right>r.right&&(r.deactivate(),e.score+=1,e.score_text.score=e.score)},e)},this),this.last_pipe.left<80&&this.addPipe());var r=0;this.game.input.keyboard.isDown(Phaser.Keyboard.UP)?r=-5:this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN)&&(r=5),0!=r&&this.pipes.forEachAlive(function(e){e.y+=r})}}},{key:"onTap",value:function(){var e=this;this.birds.countLiving()>0?(this.birds.forEachAlive(function(t){return t.flap(e.new_birds)}),this.birds.addMultiple(this.new_birds)):this.game.state.restart()}}]),t}(Phaser.State);r["default"]=d},{"../objects/Bird.js":2,"../objects/Pipe.js":3,"../objects/ScoreDisplay.js":5}],7:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"create",value:function(){var e=this.game.add.tileSprite(0,0,288,512,"background");e.autoScroll(-100,0);var t=this.game.add.tileSprite(0,400,288,112,"base");t.autoScroll(-200,0),this.game.world.bringToTop(t);var r=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY-50,"message");r.anchor.setTo(.5,.5);var i=this.game.add.tween(r).to({y:r.y+20},500,Phaser.Easing.Sinusoidal.InOut).to({y:r.y},500,Phaser.Easing.Sinusoidal.InOut,!1,0);i.loop(!0),i.start(),this.game.input.onTap.add(this.onTap,this)}},{key:"onTap",value:function(){this.state.start("GameState")}}]),t}(Phaser.State);r["default"]=s},{}],8:[function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),u=e("objects/RainbowText"),c=i(u),l=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"preload",value:function(){var e={x:this.game.world.centerX,y:this.game.world.centerY};this.text=new c["default"](this.game,e.x,e.y,"Loading"),this.text.anchor.set(.5);var t=(new Date).getHours();t<7||t>17?this.load.image("background","assets/sprites/background-night.png"):this.load.image("background","assets/sprites/background-day.png"),this.load.image("base","assets/sprites/base.png"),this.load.image("message","assets/sprites/message.png"),this.game.load.spritesheet("bird","assets/sprites/bird.png",34,24),this.game.load.spritesheet("pipe","assets/sprites/pipe.png",52,512);for(var r=0;r<=9;r++)this.load.image(r.toString(),"assets/sprites/"+r.toString()+".png")}},{key:"create",value:function(){this.state.start("Menu")}},{key:"shutdown",value:function(){this.text.kill()}}]),t}(Phaser.State);r["default"]=l},{"objects/RainbowText":4}]},{},[1]);